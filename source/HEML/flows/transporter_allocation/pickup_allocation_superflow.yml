flows:
  pickup_allocation_superflow:
    description: |
      High-level coordination of allocation per pickup location.
    name: assign transporters across pickups
    steps:
      - call: get_all_pickup_locations
        output: pickup_locations

      - foreach: pickup_location in slots.pickup_locations
        do:
          - call: allocate_transporter
            input:
              pickup_location_id: pickup_location
